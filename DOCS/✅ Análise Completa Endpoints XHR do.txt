âœ… AnÃ¡lise Completa: Endpoints XHR do Flashscore
Consegui investigar o Flashscore.pt e documentar os endpoints internos com base na anÃ¡lise da pÃ¡gina + pesquisa sobre a estrutura da API.
â€‹

ğŸ” 1. ENDPOINTS XHR PRINCIPAIS
A) Feed de Jogos (Lista de Jogos)
texto
URL Base: https://d.flashscore.com/x/feed/
MÃ©todo: GET ou POST
ParÃ¢metros tÃ­picos:

_: carimbo de data/hora (ex: 1734359415234)

tzOffset: deslocamento de fuso horÃ¡rio (ex: 0para WET)

sport: cÃ³digo do esporte (ex: 1= futebol)

CabeÃ§alhos obrigatÃ³rios:
â€‹

texto
X-Fsign: SW9D1eZo
User-Agent: Mozilla/5.0...
Formato de resposta:

Os dados vÃªm codificados/ofuscados (nÃ£o Ã© JSON puro)

Flashscore usa um formato proprietÃ¡rio tipochaveÂ¬valor~separado

Ã‰ necessÃ¡rio analisar a resposta (remover caracteres especiais inseridos)
â€‹

B) Detalhes do Jogo EspecÃ­fico
texto
URL: https://d.flashscore.com/x/feed/df_st_1_{MATCH_ID}
MÃ©todo: GET
{MATCH_ID}: ID do jogo (ex: QuD5Zho1para Estoril vs Braga)

C) EstatÃ­sticas do Jogo
texto
URL: https://d.flashscore.com/x/feed/df_sui_1_{MATCH_ID}
MÃ©todo: GET
ğŸŒ 2. WEBSOCKET (Dados Ao Vivo)
WebSocket de ponto final:

texto
wss://push.flashscore.com/
Funcionamento:

Abra o WebSocket

Envia mensagem de "subscribe" com IDs dos jogos

Recebe atualizaÃ§Ãµes em tempo real (gols, cartÃµes, minuto, etc.)

Estrutura da mensagem (aproximada):

json
{
  "type": "subscribe",
  "match_ids": ["QuD5Zho1", "hb7WMF1e", ...]
}
ğŸ“‹ 3. COMO USAR NO N8N
Fluxo de trabalho 1: Jogos do Dia
texto
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Cron Daily  â”‚
â”‚  08:00      â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       v
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ HTTP Request         â”‚
â”‚ GET /x/feed/...      â”‚
â”‚ Headers: X-Fsign     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       v
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Function Node        â”‚
â”‚ Parse response       â”‚
â”‚ (remover ofuscaÃ§Ã£o)  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       v
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Loop over jogos      â”‚
â”‚ Extrair: ID, times,  â”‚
â”‚ horÃ¡rio, liga        â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       v
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Supabase Insert      â”‚
â”‚ Tabela: jogos        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Fluxo de trabalho 2: Ao Vivo (Polling)
texto
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Cron 30s    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       v
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Supabase Read        â”‚
â”‚ SELECT jogos LIVE    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       v
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Loop: HTTP Request   â”‚
â”‚ /df_st_1_{match_id}  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       v
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Function: Parse      â”‚
â”‚ Extrair placar,      â”‚
â”‚ minuto, eventos      â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       v
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Supabase Update      â”‚
â”‚ WHERE id=match_id    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
âš ï¸ 4. DESAFIOS E SOLUÃ‡Ã•ES
Desafio	â€¦
Resposta de Uscado	Criar funÃ§Ã£o no n8n para limpar caracteres especiais antes de analisar
â€‹
CabeÃ§alho X-Fsign	Adicionar cabeÃ§alho fixo SW9D1eZoem todas as solicitaÃ§Ãµes
â€‹
LimitaÃ§Ã£o de taxa	Usar polling de 30-60s para live (nÃ£o mais frequente)
Complexo WebSocket	Para n8n, melhor usar polling de endpoints XHR que WebSocket
IDs dinÃ¢micos	Guardar match_idao capturar lista inicial de jogos
ğŸ’¡ 5. EXEMPLO PRÃTICO: cURL para Testar
bash
curl -X GET \
  'https://d.flashscore.com/x/feed/f_1_0_pt_1' \
  -H 'X-Fsign: SW9D1eZo' \
  -H 'User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36' \
  -H 'Accept: */*' \
  -H 'Referer: https://www.flashscore.pt/'
Resposta (exemplo ofuscado):

texto
Â¬AAÃ·QuD5Zho1Â¬AEÃ·EstorilÂ¬WBÃ·W8mj7MDDÂ¬WMÃ·BRAÂ¬AEÃ·BragaÂ¬...
ApÃ³s a anÃ¡lise sintÃ¡tica:

json
{
  "match_id": "QuD5Zho1",
  "home_team": "Estoril",
  "away_team": "Braga",
  "status": "not_started",
  "date": "19.12.2025",
  "time": "20:15"
}